{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\Assignments\\\\React\\\\mern-ecommerce\\\\frontend\\\\src\\\\pages\\\\Pay.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport axios from \"axios\";\nconst KEY = \"pk_test_51I5bysCDMSg6mIGeYmFW8jbOopQ1DO7kIbvEqWAIiCt7L2kDbAjhY0NVI7iwuR02WS6CsiSTaO2diqrJ9ReFQUQA00la9VeJwW\";\n\nconst Pay = () => {\n  _s();\n\n  const [stripeToken, setStripeToken] = useState(null);\n\n  const onToken = token => {\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await axios.post(\"http://localhost:5000/api/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: 2000\n        });\n        console.log(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [stripeToken ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Processng...Please Wait\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 22\n    }, this) : \"\", \"        \", /*#__PURE__*/_jsxDEV(StripeCheckout, {\n      name: \"E-Shop\",\n      image: \"https://www.clipartmax.com/png/middle/270-2707415_confirm-icon-payment-success.png\",\n      billingAddress: true,\n      shippingAddress: true,\n      description: \"Your Total amount is $20\",\n      amount: 2000,\n      token: onToken,\n      stripeKey: KEY,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Pay, \"mdlBtHJ9ds9jLCl1xMxCGcsjZ3s=\");\n\n_c = Pay;\nconst Container = styled.div`\nheight: 100vh;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n`;\n_c2 = Container;\nconst Button = styled.button`\nwidth: 100px;\npadding: 15px;\nbackground-color: #000;\ncolor: #fff;\nborder-radius: 8px;\nborder: none;\n\n`;\n_c3 = Button;\nexport default Pay;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Pay\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Button\");","map":{"version":3,"sources":["E:/Assignments/React/mern-ecommerce/frontend/src/pages/Pay.js"],"names":["React","styled","StripeCheckout","useState","useEffect","axios","KEY","Pay","stripeToken","setStripeToken","onToken","token","makeRequest","res","post","tokenId","id","amount","console","log","data","err","Container","div","Button","button"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAG,6GAAZ;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA+BN,QAAQ,CAAC,IAAD,CAA7C;;AACG,QAAMO,OAAO,GAAGC,KAAD,IAAS;AACvBF,IAAAA,cAAc,CAACE,KAAD,CAAd;AACA,GAFD;;AAIAP,EAAAA,SAAS,CAAC,MAAI;AACb,UAAMQ,WAAW,GAAG,YAAU;AAC5B,UAAG;AACL,cAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAW,4CAAX,EAAwD;AACxEC,UAAAA,OAAO,EAACP,WAAW,CAACQ,EADoD;AAExEC,UAAAA,MAAM,EAAC;AAFiE,SAAxD,CAAlB;AAKIC,QAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,IAAhB;AACD,OAPD,CAOC,OAAMC,GAAN,EAAU;AACNH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACJ;AACF,KAXD;;AAYAb,IAAAA,WAAW,IAAII,WAAW,EAA1B;AACA,GAdQ,EAcP,CAACJ,WAAD,CAdO,CAAT;AAiBH,sBACE,QAAC,SAAD;AAAA,eACGA,WAAW,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAH,GAA0C,EADxD,2BAEK,QAAC,cAAD;AACD,MAAA,IAAI,EAAC,QADJ;AAED,MAAA,KAAK,EAAC,oFAFL;AAGD,MAAA,cAAc,MAHb;AAID,MAAA,eAAe,MAJd;AAKD,MAAA,WAAW,EAAC,0BALX;AAMD,MAAA,MAAM,EAAE,IANP;AAOD,MAAA,KAAK,EAAEE,OAPN;AAQD,MAAA,SAAS,EAAEJ,GARV;AAAA,6BAUD,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVC;AAAA;AAAA;AAAA;AAAA,YAFL;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD,CAxCD;;GAAMC,G;;KAAAA,G;AAyCN,MAAMe,SAAS,GAAGrB,MAAM,CAACsB,GAAI;AAC7B;AACA;AACA;AACA;AACA,CALA;MAAMD,S;AAMN,MAAME,MAAM,GAAGvB,MAAM,CAACwB,MAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMD,M;AASN,eAAejB,GAAf","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst KEY = \"pk_test_51I5bysCDMSg6mIGeYmFW8jbOopQ1DO7kIbvEqWAIiCt7L2kDbAjhY0NVI7iwuR02WS6CsiSTaO2diqrJ9ReFQUQA00la9VeJwW\"\r\n\r\nconst Pay = () => {\r\n  const [stripeToken,setStripeToken] = useState(null)\r\n     const onToken =(token)=>{\r\n      setStripeToken(token)\r\n     }\r\n    \r\n     useEffect(()=>{\r\n      const makeRequest = async ()=>{\r\n        try{\r\n      const res = await axios.post(\"http://localhost:5000/api/checkout/payment\",{\r\n        tokenId:stripeToken.id,\r\n        amount:2000\r\n          }\r\n          )\r\n          console.log(res.data);\r\n        }catch(err){\r\n             console.log(err);\r\n        }\r\n      }\r\n      stripeToken && makeRequest()\r\n     },[stripeToken])\r\n\r\n\r\n  return (\r\n    <Container>\r\n      {stripeToken ? <span>Processng...Please Wait</span> : \"\"\r\n}        <StripeCheckout\r\n        name='E-Shop'\r\n        image='https://www.clipartmax.com/png/middle/270-2707415_confirm-icon-payment-success.png'\r\n        billingAddress\r\n        shippingAddress\r\n        description='Your Total amount is $20'\r\n        amount={2000}\r\n        token={onToken}\r\n        stripeKey={KEY}\r\n        >\r\n        <Button>Pay Now</Button>\r\n        </StripeCheckout>\r\n    </Container>\r\n  )\r\n}\r\nconst Container = styled.div`\r\nheight: 100vh;\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\n`\r\nconst Button = styled.button`\r\nwidth: 100px;\r\npadding: 15px;\r\nbackground-color: #000;\r\ncolor: #fff;\r\nborder-radius: 8px;\r\nborder: none;\r\n\r\n`\r\nexport default Pay"]},"metadata":{},"sourceType":"module"}